# ใช้ Base Image ที่มี Playwright และ Browser มาให้ครบชุด (จะได้ไม่ต้องลงเอง)
FROM mcr.microsoft.com/playwright/python:v1.48.0-jammy

# ตั้งค่าโฟลเดอร์ทำงานใน Server
WORKDIR /app

# Copy ไฟล์ทั้งหมด (main.py, requirements.txt) เข้าไปใน Server
COPY . /app

# สั่งลง Library ตามที่เขียนไว้ใน requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

# เปิด Port 8000
EXPOSE 8000

# คำสั่ง Run เมื่อ Server เริ่มทำงาน
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]